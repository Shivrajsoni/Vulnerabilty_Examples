
#include <stdio.h>
#include <stdlib.h>

void allocate_memory(int size) {
    // Attempt to allocate a large array based on user input
    int *arr = (int *)malloc(size * sizeof(int));
    if (arr == NULL) {
        printf("Memory allocation failed!\n");
        exit(1); // Exit if memory allocation fails
    }

    // Simulate some processing
    for (int i = 0; i < size; i++) {
        arr[i] = i; // Fill the array with values
    }

    printf("Allocated and filled %d integers.\n", size);
    free(arr); // Free allocated memory
}

int main() {
    char input[20];
    int size;

    printf("Enter the number of integers to allocate: ");
    fgets(input, sizeof(input), stdin); // Read user input

    // Convert input to integer
    size = atoi(input);

    // Call the function to allocate memory
    allocate_memory(size);

    return 0;
    
}